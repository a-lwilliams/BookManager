@{
    ViewBag.Title = "Home Page";
    ViewBag.PageId = "home";
}
@section TopContent {
    <div id="image-feature">
        <div class="ink-grid" id="feature-outer">
            <div id="feature-content">
                <h2>
                    <i class="fa fa-book"></i>
                    BookManager
                    <small>Subtitle</small>
                </h2>
                <p>
                    A simple web application for managing book wishlists. Register now!
                </p>
                <p>
                    @Html.ActionLink("Register", "Register", "Account", routeValues: null, htmlAttributes: new { @class = "ink-button green" })
                </p>
            </div>
        </div>
    </div>
}

<div class="large-33 small-100 medium-50">
    <div class="feature-block"><h4><i class="fa fa-gear"></i> Flexible</h4><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum pellentesque justo fringilla, varius risus sit amet, rutrum orci. Maecenas dolor erat, volutpat ut ultricies nec, eleifend at turpis. </p></div>
</div>

<div class="large-33 small-100 medium-50">
    <div class="feature-block"><h4><i class="fa fa-clock-o"></i> Fast</h4><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum pellentesque justo fringilla, varius risus sit amet, rutrum orci. Maecenas dolor erat, volutpat ut ultricies nec, eleifend at turpis. </p></div>

</div>

<div class="large-33 small-100 medium-50">
    <div class="feature-block"><h4><i class="fa fa-check"></i> Inexpensive</h4><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum pellentesque justo fringilla, varius risus sit amet, rutrum orci. Maecenas dolor erat, volutpat ut ultricies nec, eleifend at turpis. </p></div>
</div>

<div class="large-100">
    <h2>Why BookManager?</h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum pellentesque justo fringilla, varius risus sit amet, rutrum orci. Maecenas dolor erat, volutpat ut ultricies nec, eleifend at turpis. Sed dignissim eget neque et ultrices. Ut vel aliquam tellus. Praesent tempor elit tristique, congue dui nec, tristique ipsum. Vestibulum vel rhoncus dui. Nam scelerisque dolor eu dui rhoncus tempor. Sed feugiat felis sem, non iaculis purus varius ut. Cras mattis arcu nulla, adipiscing iaculis dolor dapibus ut. Cras id scelerisque justo, eget ullamcorper lorem. Praesent elit velit, ornare ut semper ac, iaculis eu mi. Aliquam sit amet consequat neque, in convallis nunc. </p>
</div>

<div class="large-100">
    <h2>Pricing</h2>
    <table class="ink-table bordered">
        <thead>
            <tr>
                <th class="content-left">Feature</th>
                <th class="content-left">Plan 1</th>
                <th class="content-left">Plan 2</th>
                <th class="content-left">Plan 3</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Price</td>
                <td>Free!</td>
                <td>£20</td>
                <td>£30</td>
            </tr>
            <tr>
                <td>Unlimited Books</td>
                <td><i class="fa fa-check"></i></td>
                <td><i class="fa fa-check"></i></td>
                <td><i class="fa fa-check"></i></td>
            </tr>
            <tr>
                <td>Embeddable Wishlist</td>
                <td><i class="fa fa-times"></i></td>
                <td><i class="fa fa-check"></i></td>
                <td><i class="fa fa-check"></i></td>
            </tr>
            <tr>
                <td>Price lookup</td>
                <td><i class="fa fa-times"></i></td>
                <td><i class="fa fa-times"></i></td>
                <td><i class="fa fa-check"></i></td>
            </tr>
            <tr>
                <td>Free books</td>
                <td><i class="fa fa-times"></i></td>
                <td>2 / month</td>
                <td>4 / month</td>
            </tr>
            <tr>
                <td>Get started</td>
                <td class="get-started">@Html.ActionLink("Register", "Register", "Account", routeValues: null, htmlAttributes: new { @class = "ink-button green" })</td>
                <td class="get-started">@Html.ActionLink("Subscribe", "Register", "Account", routeValues: null, htmlAttributes: new { @class = "ink-button green" })</td>
                <td class="get-started">@Html.ActionLink("Subscribe", "Register", "Account", routeValues: null, htmlAttributes: new { @class = "ink-button green" })</td>
            </tr>
        </tbody>
    </table>
</div>

@section Scripts {
    <script>

        (function ($) {
            var $window = $(window);
            var windowHeight = $window.height();

            $window.resize(function () {
                windowHeight = $window.height();
            });

            $.fn.parallax = function (xpos, speedFactor, outerHeight) {
                var $this = $(this);
                var getHeight;
                var firstTop;
                var paddingTop = 0;

                //get the starting position of each element to have parallax applied to it
                $this.each(function () {
                    firstTop = $this.offset().top;
                });

                if (outerHeight) {
                    getHeight = function (jqo) {
                        return jqo.outerHeight(true);
                    };
                } else {
                    getHeight = function (jqo) {
                        return jqo.height();
                    };
                }

                // setup defaults if arguments aren't specified
                if (arguments.length < 1 || xpos === null) xpos = "50%";
                if (arguments.length < 2 || speedFactor === null) speedFactor = 0.1;
                if (arguments.length < 3 || outerHeight === null) outerHeight = true;

                // function to be called whenever the window is scrolled or resized
                function update() {
                    var pos = $window.scrollTop();

                    $this.each(function () {
                        var $element = $(this);
                        var top = $element.offset().top;
                        var height = getHeight($element);

                        // Check if totally above or totally below viewport
                        if (top + height < pos || top > pos + windowHeight) {
                            return;
                        }
                        var amnt = Math.round((firstTop - pos) * speedFactor);
                        if (amnt > 0) {
                            return;
                        }
                        $this.css('backgroundPosition', xpos + " " + amnt + "px");
                    });
                }

                $window.bind('scroll', update).resize(update);
                update();
            };
        })(jQuery);
        jQuery(function ($) {
            $('#image-feature').parallax("0%", 1, false);
        });
    </script>
}
